Instruction for Workshop 2.6 Orchestrator Assignment:
Note: This instruction will demonstration for assign pods to node with several constrain:
====================================================
Lab Description:
Label: storage					Machine name		Roles:						IP Address:
Machine name		            Roles:						IP Address:
GroupX_Kubernetes_Master	    Master						10.0.X.X
GroupX_Kubernetes_Worker1       NodePort					10.0.X.X
GroupX_Kubernetes_Worker2       NodePort					10.0.X.X
===================================================
Part 1: nodeSelector:
1. (Client Machine) SSH to kubernetes
ssh -i k8s_lab ubuntu@<ip address of Master>
ssh -i k8s_lab ubuntu@<ip address of NodePort1>
ssh -i k8s_lab ubuntu@<ip address of NodePort2>

2. (Client Machine) SCP file test by command (Or github can skip):
scp -i k8s_lab scp *.yml ubuntu@<ip address of master>:/home/ubuntu/
scp -i k8s_lab ubuntu@<ip address of node1>:/home/ubuntu/
scp -i k8s_lab ubuntu@<ip address of node2>:/home/ubuntu/

3. (Master) Add Label by command:

kubectl get nodes:
====================================================
Example Output:
kubuntu@ip-10-0-1-17:~$ kubectl get nodes
NAME            STATUS    ROLES     AGE       VERSION
ip-10-0-1-17    Ready     master    2h        v1.9.2
ip-10-0-1-23    Ready     <none>    1h        v1.9.2
ip-10-0-1-246   Ready     <none>    1h        v1.9.2
====================================================

	kubectl label nodes <name master> storage=M2
	kubectl label nodes <name worker1> storage=SSD
	kubectl label nodes <name workder2 storage=SAS

4. (Master) Create Pods by command:
	kubectl create -f webtest_pod_nodeselector.yml	(In case run via github or Play with K8S: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_nodeselector.yml)

5. (Master) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest

6. (Master) Delete Pods by command:
	kubectl delete -f webtest_pod_nodeselector.yml	(In case run via github or Play with K8S: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_nodeselector.yml)

Part 2: Interlude:
1. (Master) Create Pods by command:
	kubectl create -f webtest_pod_interlude.yml	(In case run via github: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude.yml)

2. (Master) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest

3. (Master) Delete Pods by command:
	kubectl delete -f webtest_pod_interlude.yml	(In case run via github: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude.yml)

Part 3: Affinity (Node):
1. (kubernetes-ms,node1) Create Pods by command:
	Google Cloud/Onpremise
	kubectl create -f webtest_pod_affinity.yml	(In case run via github or Play with K8S: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_affinity.yml)

2. (kubernetes-ms,node1) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest

Part 4: Inter-Pod Affinity and Anti-affinity:
1. (kubernetes-ms,node1) Create Pods by command:
	Google Cloud/Onpremise
	kubectl create -f webtest_pod_affinity_topokey.yml	(In case run via github or Play with K8S: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_affinity_topokey.yml)

2. (kubernetes-ms,node1) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest2

3. (kubernetes-ms,node1) Delete Pods by command:
	Google Cloud/Onpremise
	kubectl delete -f webtest_pod_affinity_topokey.yml	(In case run via github or Play with K8S:: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_affinity_topokey.yml)
	kubectl delete -f webtest_pod_affinity.yml	(In case run via github or Play with K8S:: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_affinity.yml)

Part 5: Taint and Tolerations
1. (kubernetes-ms,node1) Set Taint on node kubernetes-1 for admin operate by command:
	kubectl taint nodes kubernetes-1 dedicated=admin:NoSchedule

	Play with K8S:
	kubectl taint nodes node2 dedicated=admin:NoSchedule

2. (kubernetes-ms,node1) Create Pods by command:
	Google Cloud/Onpremise
	kubectl create -f webtest_pod_interlude.yml	(In case run via github:: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude.yml)

	Play with K8S:
	kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude_k8s.yml

3. (kubernetes-ms,node1) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest

	Google Cloud/Onpremise:
	kubectl delete -f webtest_pod_interlude.yml	(In case run via github: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude.yml)

	Play with K8S:
	kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_interlude_k8s.yml

4. (kubernetes-ms,node1) Create Tolerations Pods by command:
	Google Cloud/Onpremise:
	kubectl create -f webtest_pod_taint.yml	(In case run via github:: kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_taint.yml)

	Play with K8S:
	kubectl create -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_taint_k8s.yml

5. (kubernetes-ms,node1) Monitor Pods location by command:
	kubectl get pods -o wide
	kubectl describe pods/webtest

6. (kubernetes-ms,node1) Delete and Clear Taint by command:
	Google Cloud/Onpremise:
	kubectl delete -f webtest_pod_taint.yml	(In case run via github or Play with K8S:: kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_taint.yml)
	kubectl taint nodes kubernetes-1 dedicated-

	Play with K8S:
	kubectl delete -f https://raw.githubusercontent.com/praparn/kubernetes_20170128/master/WorkShop_2.6_Orchestrator_Assignment/webtest_pod_taint_k8s.yml
	kubectl taint nodes node2 dedicated-
	
